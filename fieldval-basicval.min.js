var logger;"function"==typeof require&&(logger=require("tracer").console()),"function"==typeof require&&(FieldVal=require("fieldval"));var BasicVal={errors:{too_short:function(r){return{error:100,error_message:"Length is less than "+r}},too_long:function(r){return{error:101,error_message:"Length is greater than "+r}},too_small:function(r){return{error:102,error_message:"Value is less than "+r}},too_large:function(r){return{error:103,error_message:"Value is greater than "+r}},not_in_list:function(){return{error:104,error_message:"Value is not a valid choice"}},cannot_be_empty:function(){return{error:105,error_message:"Value cannot be empty."}},no_prefix:function(r){return{error:106,error_message:"Value does not have prefix: "+r}},invalid_email:function(){return{error:107,error_message:"Invalid email address format."}},invalid_url:function(){return{error:108,error_message:"Invalid url format."}},incorrect_length:function(r){return{error:109,error_message:"Length is not equal to "+r}},no_suffix:function(r){return{error:110,error_message:"Value does not have suffix: "+r}},not_equal:function(r){return{error:113,error_message:"Not equal to "+r+"."}},no_valid_option:function(){return{error:115,error_message:"None of the options were valid."}},contains_whitespace:function(){return{error:116,error_message:"Contains whitespace."}},must_start_with_letter:function(){return{error:117,error_message:"Must start with a letter."}}},equal_to:function(r,e){var t=function(t){return t!==r?FieldVal.create_error(BasicVal.errors.not_equal,e,r):void 0};return e?(e.check=t,e):{check:t}},merge_required_and_flags:function(r,e){return"object"==typeof r?e=r:(e||(e={}),e.required=r),e},integer:function(r,e){return FieldVal.type("integer",BasicVal.merge_required_and_flags(r,e))},number:function(r,e){return FieldVal.type("number",BasicVal.merge_required_and_flags(r,e))},array:function(r,e){return FieldVal.type("array",BasicVal.merge_required_and_flags(r,e))},object:function(r,e){return FieldVal.type("object",BasicVal.merge_required_and_flags(r,e))},"float":function(r,e){return FieldVal.type("float",BasicVal.merge_required_and_flags(r,e))},"boolean":function(r,e){return FieldVal.type("boolean",BasicVal.merge_required_and_flags(r,e))},string:function(r,e){e=BasicVal.merge_required_and_flags(r,e);var t=function(t,n){var a=FieldVal.type("string",e);"object"==typeof a&&(a=a.check);var o=a(t,n);return o?o:(e&&e.trim===!1||(t=t.trim()),0===t.length?r||void 0===r?FieldVal.REQUIRED_ERROR:FieldVal.NOT_REQUIRED_BUT_MISSING:void 0)};return e?(e.check=t,e):{check:t}},length:function(r,e){var t=function(t){return t.length!==r?FieldVal.create_error(BasicVal.errors.incorrect_length,e,r):void 0};return e?(e.check=t,e):{check:t}},min_length:function(r,e){var t=function(t){return t.length<r?FieldVal.create_error(BasicVal.errors.too_short,e,r):void 0};return e?(e.check=t,e):{check:t}},max_length:function(r,e){var t=function(t){return t.length>r?FieldVal.create_error(BasicVal.errors.too_long,e,r):void 0};return e?(e.check=t,e):{check:t}},no_whitespace:function(r){var e=function(e){return/\s/.test(e)?FieldVal.create_error(BasicVal.errors.contains_whitespace,r,max_len):void 0};return r?(r.check=e,r):{check:e}},minimum:function(r,e){var t=function(t){return r>t?FieldVal.create_error(BasicVal.errors.too_small,e,r):void 0};return e?(e.check=t,e):{check:t}},maximum:function(r,e){var t=function(t){return t>r?FieldVal.create_error(BasicVal.errors.too_large,e,r):void 0};return e?(e.check=t,e):{check:t}},range:function(r,e,t){var n=function(n){return r>n?FieldVal.create_error(BasicVal.errors.too_small,t,r):n>e?FieldVal.create_error(BasicVal.errors.too_large,t,e):void 0};return t?(t.check=n,t):{check:n}},one_of:function(r,e){var t=[];if("[object Array]"===Object.prototype.toString.call(r))for(var n=0;n<r.length;n++){var a=r[n];t.push("object"==typeof a?a[0]:a)}else for(var n in r)t.push(n);var o=function(r){return-1===t.indexOf(r)?FieldVal.create_error(BasicVal.errors.not_in_list,e):void 0};return e?(e.check=o,e):{check:o}},not_empty:function(r,e){var t=function(t){if(r){if(0===t.trim().length)return FieldVal.create_error(BasicVal.errors.cannot_be_empty,e)}else if(0===t.length)return FieldVal.create_error(BasicVal.errors.cannot_be_empty,e)};return e?(e.check=t,e):{check:t}},prefix:function(r,e){var t=function(t){return t.length>=r.length?t.substring(0,r.length)!=r?FieldVal.create_error(BasicVal.errors.no_prefix,e,r):void 0:FieldVal.create_error(BasicVal.errors.no_prefix,e,r)};return e?(e.check=t,e):{check:t}},start_with_letter:function(r){var e=function(e){if(!(e.length>0))return FieldVal.create_error(BasicVal.errors.must_start_with_letter,r);var t=e.charCodeAt(0);return t>=65&&90>=t||t>=97&&122>=t?void 0:FieldVal.create_error(BasicVal.errors.must_start_with_letter,r)};return r?(r.check=e,r):{check:e}},suffix:function(r,e){var t=function(t){return t.length>=r.length?t.substring(t.length-r.length,t.length)!=r?FieldVal.create_error(BasicVal.errors.no_suffix,e,r):void 0:FieldVal.create_error(BasicVal.errors.no_suffix,e,r)};return e?(e.check=t,e):{check:t}},each:function(r,e){var t=function(e){for(var t=new FieldVal(null),n=0;n<e.length;n++){var a=e[n],o=r(a,n);null!=o&&t.invalid(""+n,o)}var i=t.end();return null!=i?i:void 0};return e?(e.check=t,e):{check:t}},multiple:function(r,e){r=r||[],0===r.length&&console.error("BasicVal.multiple called without options.");var t=function(t,n){for(var a=0;a<r.length;a++){var o,i=r[a],c=FieldVal.use_checks(t,i,null,null,function(r){o=r});if(!c)return void 0!==o&&n(o),null}return FieldVal.create_error(BasicVal.errors.no_valid_option,e)};return e?(e.check=t,e):{check:t}},email:function(r){var e=function(e){var t=BasicVal.email_regex;return t.test(e)?void 0:FieldVal.create_error(BasicVal.errors.invalid_email,r)};return r?(r.check=e,r):{check:e}},url:function(r){var e=function(e){var t=BasicVal.url_regex;return t.test(e)?void 0:FieldVal.create_error(BasicVal.errors.invalid_url,r)};return r?(r.check=e,r):{check:e}}};BasicVal.email_regex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,BasicVal.url_regex=/^(https?):\/\/(((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))|((([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])))(:[1-9][0-9]+)?(\/)?([\/?].+)?$/,"undefined"!=typeof module&&(module.exports=BasicVal);